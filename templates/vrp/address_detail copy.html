{% load staticfiles %}



<!DOCTYPE html>
<html>
<head>

   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
   integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
   crossorigin=""/>

    <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"
   integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
   crossorigin=""></script>


<title>Addresses</title>
<!-- Bootstrap -->
<link href="{%static 'css/bootstrap.min.css'%}" rel="stylesheet">
</head>


<body>

<style>

    .leaflet-container {  /* all maps */
        width:  400px;
        height: 300px;
    }

    #specialbigmap {
        height: 300px;
    }
    </style>
<div class="container">


    <h2>Address Details</h2>

    

<p>City Name: {{ object.city }}</p>
<p>Address Name: {{ object.name }}</p>
<p>Latitude: {{ object.latitude }}</p>
<p>Longitude {{ object.longitude }}</p>



<div id="mapid" style="width: 400px; height: 400px;"></div>
<script>

    var mymap = L.map('mapid').setView([{{ object.latitude }}, {{ object.longitude }}], 15);

   

L.tileLayer( 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
    subdomains: ['a','b','c']
}).addTo( mymap );


     mymarker = L.marker([{{ object.latitude }}, {{ object.longitude }}], {draggable: true}).addTo(mymap);

     mymarker.on('dragend', function(ev) {
        console.log(mymarker.getLatLng());})


     mymap.on('click', function(ev) {
    alert(ev.latlng); // ev is an event object (MouseEvent in this case)
});


/*
alternative fileserver 
   
     L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        maxZoom: 18,
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
            '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
        id: 'mapbox.streets'
    }).addTo(mymap);*/
</script>


<p><a href="{% url 'address-list' %}">Back to address list</a></p>
<p><a href="{% url 'address-update' object.id %}">Edit Address</a></p>

</div>

<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="{%static 'js/bootstrap.min.js'%}"></script>




</body>
</html>

